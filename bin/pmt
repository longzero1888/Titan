#!/usr/bin/env node

var commander = require('commander');
var pkg = require('../package.json');

var pmt = require('../index');

//basic infomation
commander
    .version(pkg.version)

//options  
commander
    .option('-a, --all', 'list all commands')

//commands
commander
    .command('start [appName]')
    .description('start description, 待根据CLI提供的api完善')
    .action(function(appName, options) {
        pmt.start({
            'name': appName || 'myTitan',
            'entrance': '../test/index.js',
            'worker_count': 1,
            'args': '--harmony'
        }, function() {});
    })
commander
    .command('kill [appName]')
    .description('默认kill Daemon,输入appName,则kill相应app；待根据CLI提供的api完善')
    .action(function(appName) {
        //kill daemon
        if (typeof appName == 'undefined') {
            pmt.kill();
        }
    })

commander.parse(process.argv);
